import{e as p,f as F,g as E,o as U,c as B,h as S,v as R,a as t,d as C,i as L,F as Y,j as $,t as d,b as j,k as W,w as X,r as Z}from"./index-Bwv6Txsw.js";const c=["value"],y=["value"],q={__name:"SelectDate",emits:["date"],setup(z,{emit:w}){const a=p(new Date().getFullYear()),o=p(new Date().getMonth()+1),s=p(new Date().getDate()),M=F(()=>new Date(a.value,o.value,0).getDate()),k=w;return E([a,o],()=>{s.value>M.value&&(s.value=M.value)}),E([a,o,s],()=>{console.log(a.value,o.value,s.value),k("date",[a.value,o.value,s.value])}),(V,u)=>(U(),B(Y,null,[S(t("input",{type:"number","onUpdate:modelValue":u[0]||(u[0]=v=>a.value=v)},null,512),[[R,a.value]]),u[3]||(u[3]=C("年 ")),S(t("select",{"onUpdate:modelValue":u[1]||(u[1]=v=>o.value=v)},[(U(),B(Y,null,$(12,v=>t("option",{key:v,value:v},d(v),9,c)),64))],512),[[L,o.value]]),u[4]||(u[4]=C("月 ")),S(t("select",{"onUpdate:modelValue":u[2]||(u[2]=v=>s.value=v)},[(U(!0),B(Y,null,$(M.value,v=>(U(),B("option",{key:v,value:v},d(v),9,y))),128))],512),[[L,s.value]]),u[5]||(u[5]=C("日 "))],64))}},h={__name:"Anniversary",setup(z){const w=p(!0),a=p(new Date().getFullYear()),o=p(new Date().getMonth()+1),s=p(new Date().getDate()),M=F(()=>i(a.value,o.value+1,s.value)),k=p(new Date().getFullYear()),V=p(new Date().getMonth()+1),u=p(new Date().getDate()),v=F(()=>i(k.value,V.value+1,u.value)),G=F(()=>v.value-M.value+(w.value?1:0)),H=F(()=>I(k.value,V.value,u.value,a.value,o.value,s.value,w.value));function I(e,l,r,n,f,D,O){var N=O?1:0,x="記念日！";if(e<n||e==n&&l<f||e==n&&l==f&&r<D)x="過去！";else if(e==n&&l==f&&r==D)x="当日！";else if(r==D){var P=e-n,Q=l-f+P*12;x=Q+"ヶ月記念日！"}else if((i(e,l+1,r)-i(n,f+1,D)+N)%100==0)x=i(e,l+1,r)-i(n,f+1,D)+N+"日記念日！";else{for(var[g,m,A]=[e,l,r],T=0;(i(g,m+1,A)-i(n,f+1,D)+N)%100!=0&&T<5e4;)m++,T++,m==12&&(g++,m=0);x=i(g,m+1,A)-i(n,f+1,D)+N+"日の"+T+"ヶ月前記念日！"}return x}function J(e){a.value=e[0],o.value=e[1],s.value=e[2]}function K(e){k.value=e[0],V.value=e[1],u.value=e[2]}function i(e,l,r){var n=new Date(e,l,r);return Math.floor(n/(1e3*60*60*24))}return(e,l)=>{const r=Z("router-link");return U(),B(Y,null,[t("div",null,[l[4]||(l[4]=t("h1",null,"毎日が記念日！",-1)),l[5]||(l[5]=t("p",null,"基準日: ",-1)),j(q,{onDate:l[0]||(l[0]=n=>{J(n)})}),l[6]||(l[6]=t("p",null,"目標日: ",-1)),j(q,{onDate:l[1]||(l[1]=n=>{K(n)})}),t("p",null,[t("label",null,[S(t("input",{type:"checkbox","onUpdate:modelValue":l[2]||(l[2]=n=>w.value=n)},null,512),[[W,w.value]]),l[3]||(l[3]=C(" 基準日を含める "))])]),t("p",null,"経過日数: "+d(G.value)+"日",1)]),t("div",null,[t("h2",null,d(k.value)+"年"+d(V.value)+"月"+d(u.value)+"日は、",1),t("h2",null,d(a.value)+"年"+d(o.value)+"月"+d(s.value)+"日から見て、",1),t("h2",null,d(H.value),1)]),t("p",null,[j(r,{to:"/"},{default:X(()=>l[7]||(l[7]=[C("back")])),_:1})])],64)}}};export{h as default};
