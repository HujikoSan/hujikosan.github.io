import{r as p,j as m,k as C,o as U,c as B,w as S,v as R,a as n,i as Y,l as E,F as T,h as L,t as i,m as $,n as W}from"./index-C4BrEKaa.js";const X=["value"],Z=["value"],q={__name:"SelectDate",emits:["date"],setup(z,{emit:w}){const t=p(new Date().getFullYear()),o=p(new Date().getMonth()+1),s=p(new Date().getDate()),M=m(()=>new Date(t.value,o.value,0).getDate()),k=w;return C([t,o],()=>{s.value>M.value&&(s.value=M.value)}),C([t,o,s],()=>{console.log(t.value,o.value,s.value),k("date",[t.value,o.value,s.value])}),(V,u)=>(U(),B(T,null,[S(n("input",{type:"number","onUpdate:modelValue":u[0]||(u[0]=v=>t.value=v)},null,512),[[R,t.value]]),u[3]||(u[3]=Y("年 ")),S(n("select",{"onUpdate:modelValue":u[1]||(u[1]=v=>o.value=v)},[(U(),B(T,null,L(12,v=>n("option",{key:v,value:v},i(v),9,X)),64))],512),[[E,o.value]]),u[4]||(u[4]=Y("月 ")),S(n("select",{"onUpdate:modelValue":u[2]||(u[2]=v=>s.value=v)},[(U(!0),B(T,null,L(M.value,v=>(U(),B("option",{key:v,value:v},i(v),9,Z))),128))],512),[[E,s.value]]),u[5]||(u[5]=Y("日 "))],64))}},y={__name:"Anniversary",setup(z){const w=p(!0),t=p(new Date().getFullYear()),o=p(new Date().getMonth()+1),s=p(new Date().getDate()),M=m(()=>d(t.value,o.value+1,s.value)),k=p(new Date().getFullYear()),V=p(new Date().getMonth()+1),u=p(new Date().getDate()),v=m(()=>d(k.value,V.value+1,u.value)),G=m(()=>v.value-M.value+(w.value?1:0)),H=m(()=>I(k.value,V.value,u.value,t.value,o.value,s.value,w.value));function I(e,l,a,r,D,f,O){var N=O?1:0,x="記念日！";if(e<r||e==r&&l<D||e==r&&l==D&&a<f)x="過去！";else if(e==r&&l==D&&a==f)x="当日！";else if(a==f){var P=e-r,Q=l-D+P*12;x=Q+"ヶ月記念日！"}else if((d(e,l+1,a)-d(r,D+1,f)+N)%100==0)x=d(e,l+1,a)-d(r,D+1,f)+N+"日記念日！";else{for(var[g,F,A]=[e,l,a],j=0;(d(g,F+1,A)-d(r,D+1,f)+N)%100!=0&&j<5e4;)F++,j++,F==12&&(g++,F=0);x=d(g,F+1,A)-d(r,D+1,f)+N+"日記念日の"+j+"ヶ月前！"}return x}function J(e){t.value=e[0],o.value=e[1],s.value=e[2]}function K(e){k.value=e[0],V.value=e[1],u.value=e[2]}function d(e,l,a){var r=new Date(e,l,a);return Math.floor(r/(1e3*60*60*24))}return(e,l)=>(U(),B(T,null,[n("div",null,[l[4]||(l[4]=n("h1",null,"毎日が記念日！",-1)),l[5]||(l[5]=n("p",null,"基準日: ",-1)),$(q,{onDate:l[0]||(l[0]=a=>{J(a)})}),n("p",null,i(t.value)+"年"+i(o.value)+"月"+i(s.value)+"日",1),l[6]||(l[6]=n("p",null,"目標日: ",-1)),$(q,{onDate:l[1]||(l[1]=a=>{K(a)})}),n("p",null,[n("label",null,[S(n("input",{type:"checkbox","onUpdate:modelValue":l[2]||(l[2]=a=>w.value=a)},null,512),[[W,w.value]]),l[3]||(l[3]=Y(" 基準日を含める "))])]),n("p",null,"経過日数: "+i(G.value)+"日",1)]),n("div",null,[n("h2",null,i(k.value)+"年"+i(V.value)+"月"+i(u.value)+"日は、",1),n("h2",null,i(t.value)+"年"+i(o.value)+"月"+i(s.value)+"日から見て、",1),n("h2",null,i(H.value),1)])],64))}};export{y as default};
